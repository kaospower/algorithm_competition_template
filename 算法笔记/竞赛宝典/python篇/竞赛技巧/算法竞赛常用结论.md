# 1.贪心篇

1.对于一个排序后的数组a(里面可能有负数),从中取三个数相乘,最大值为$max(a[-1]\times a[-2]\times a[-3],a[0]*a[1]*a[-1])$

2.对于一个数组,希望把它变成有序:

如果只能交换相邻元素:最少交换次数为逆序对数量

如果可以随便交换:

在排序后的数的位置和原位置之间建立无向边,求出环数

最少交换次数为总数减去环数

3.数组长度为n,其中出现最多的元素的出现次数为m

每次删除两个不同元素,最多能删$min(\lfloor\frac{n}{2}\rfloor,n-m)$次

每次操作删除至多两个不同元素,删除所有元素,最少要操作$max(\lceil\frac{n}{2}\rceil,m)$次

# 2.图论篇

1.将两棵树通过一条边连在一起,最小的直径为max(d1,d2,(d1+1)//2+(d2+1)//2+1)

2.直径的中心称为树的中心,可以有多条直径,但中心至多有两个,当直径有奇数个点时,所有直径相交于1点,当直径有偶数个点时,有两个点被所有直径穿过

3.对树中三点两两求LCA,则至少有两个相同,且rootedLCA=这三个LCA的异或和.rooted LCA:在一棵无向树上,给定一个临时根节点 r,任意两点 u, v 在以 r 为根的有向树中的最近公共祖先

4.度数<=2:说明要么是链要么是环要么是孤立点

5.$对于点u,v,设边(u,v)的边权为w,dis[x]表示0到x的最短路,如果dis[v]+w=dis[u]$

$那么说明w在从0出发的某条最短路上(不一定到达终点)$

$设d_i表示从0到i的最短路,b_i表示从n-1到i的最短路,若d_{n-1}=d_u+w+b_v,则说明边(u,v)在0到n-1的最短路上$

# 3.数学篇

1.$C(n,1)+C(n,3)+...C(n,k)=2^{n-1}$,k为<=n的最大奇数

2.**曼哈顿距离转切比雪夫距离**

切比雪夫的几何意义是在国际象棋棋盘上,国王从点a走到点b的最短距离,国王每次可以沿着水平,垂直或对角线方向走一格

$曼哈顿坐标系是通过切比雪夫坐标系逆时针旋转-45^{\circ}之后,再变为到原来的1/\sqrt2得到的$

$向量旋转公式(逆时针旋转\theta角)$
$$
(x',y')=(x,y)\cdot\begin{pmatrix}
cos\theta & sin\theta\\
-sin\theta & cos\theta
\end{pmatrix}=(xcos\theta-ysin\theta,xsin\theta+ycos\theta)
$$
设切比雪夫坐标系下的坐标为(x,y)

$那么新坐标为(x',y')=(xcos(-45^{\circ})-ysin(-45^{\circ}),xsin(-45^{\circ})+ycos(-45^{\circ}))$

​                                     $=(\frac{\sqrt2}{2}x+\frac{\sqrt2}{2}y,-\frac{\sqrt2}{2}x+\frac{\sqrt2}{2}y)$

$变为原来的1/\sqrt2即为(x+y,y-x)$

$设两个点坐标分别为a(x1,y1),b(x2,y2)$

$a,b之间的曼哈顿距离d1=|x1-x2|+|y1-y2|$
$a,b之间的切比雪夫距离d2=max(|x1-x2|,|y1-y2|)$

$将一个点(x,y)的坐标变为(x+y,y-x)后,新坐标系中的切比雪夫距离即为原坐标系中的曼哈顿距离$

即$d_{新坐标系切比雪夫}=max(|(x1+y1)-(x2+y2)|,|(y1-x1)-(y2-x2)|)$

​			      $=max(|(x1+y1)-(x2+y2)|,|(x1-y1)-(x2-y2)|)$

​                              $=d_{原坐标曼哈顿}=|x1-x2|+|y1-y2|$

$将一个点(x,y)的坐标变为((x+y)/2,(x-y)/2)后,新坐标系中的曼哈顿距离即为原坐标系中的切比雪夫距离$
$即d_{新坐标曼哈顿}=|(x1+y1)/2-(x2+y2)/2|+|(x1-y1)/2-(x2-y2)/2|$

​                        $=d_{原坐标切比雪夫}=max(|x1-x2|,|y1-y2|)$

```python
#3102(https://leetcode.cn/problems/minimize-manhattan-distances/)
#结论:
class Solution:
    def minimumDistance(self, points: List[List[int]]) -> int:
        a=SortedList(x+y for x,y in points)
        b=SortedList(x-y for x,y in points)
        ans=inf
        #模拟,从points中删除一个点,剩下的点的切比雪夫距离的最大值为
        #d=max(|(x1+y1)-(x2+y2)|,|(x1-y1)-(x2-y2)|)
        #即用x+y的最大值减去x+y的最小值,和x-y的最大值减去x-y的最小值取max
        #枚举所有点,求出最小的d即可
        for x,y in points:
            a.remove(x+y)
            b.remove(x-y)
            ans=min(ans,max(a[-1]-a[0],b[-1]-b[0]))
            a.add(x+y)
            b.add(x-y)
        return ans

```

3.除了11之外，没有偶数长度的回文质数

4.ord(x)&31等价于ord(x)-ord('a')+1,将将小写字母映射到1~26

5.前n个数中质数数目为n/ln(n)

6.一般地,把m个无区别的小球放入n个有区别的盒子,允许空盒,方案数为C(m+n-1,n-1)=C(m+n-1,m)

7.一般地,设k的质因子分解为$p_1^{e_1}p_2^{e_2}...p_t^{e^t}$,则方案数为$C(e_1+n-1,e_1)C(e_2+n-1,e_2)...C(e_t+n-1,e_t)$

8.对于一个长度为n的环,如果环上所有间隔为k的元素都要相等,那么环上所有间隔为gcd(n,k)的元素都要相等

9.$定义arr^k表示k个arr串联得到的数组,s是数组arr的元素和$

$如果s>0,那么arr^2的最大子数组和一定横跨两个arr,不会在其中一个arr中间$

10.从n个不同元素中,选奇数个数,有$2^{n-1}种选法$

