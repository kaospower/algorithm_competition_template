**2163.删除元素后和的最小差值**

前后缀分解+大根堆+小根堆

```python
#2163(https://leetcode.cn/problems/minimum-difference-in-sums-after-removal-of-elements/description/)
fmin=lambda x,y:x if x<y else y
class Solution:
    def minimumDifference(self, nums: List[int]) -> int:
        m=len(nums)
        n=m//3
        #小根堆,初始时加入后n个元素
        min_h=nums[-n:]
        heapify(min_h)
        suf_max=[0]*(m-n+1)
        suf_max[-1]=sum(min_h)
        for i in range(m-n-1,n-1,-1):
            #在小根堆中加入当前元素,同时弹出最小元素
            suf_max[i]=suf_max[i+1]+nums[i]-heappushpop(min_h,nums[i])
        #大根堆,初始时加入前n个元素
        max_h=[-x for x in nums[:n]]
        heapify(max_h)
        pre_min=-sum(max_h)
        ans=pre_min-suf_max[n]
        for i in range(n,m-n):
            pre_min+=nums[i]+heappushpop(max_h,-nums[i])
            ans=fmin(ans,pre_min-suf_max[i+1])
        return ans
```

