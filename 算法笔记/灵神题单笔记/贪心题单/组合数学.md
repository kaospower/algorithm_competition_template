# 1.乘法原理

**2147.分隔长廊的方案数**

本题难度不是很大,核心技巧是利用两次座位出现的编号之差计算出当前段划分数

```python
#2147(https://leetcode.cn/problems/number-of-ways-to-divide-a-long-corridor/?envType=problem-list-v2&envId=NYf6Nvxg)
mod=1_000_000_007
class Solution:
    def numberOfWays(self, corridor: str) -> int:
        #cnt记录遍历到的座位数量,pre记录上一次座位出现的位置
        ans,cnt,pre=1,0,0
        for i,x in enumerate(corridor):
            if x=='S':
                cnt+=1
                #由于2个座位一组,因此当座位数是奇数并且>=3时
                #说明来到新的组,更新答案
                #可以放的屏风数量即为当前编号-上一次座位编号
                if cnt>=3 and cnt&1:
                    ans=ans*(i-pre)%mod
                pre=i
        return ans if cnt and cnt&1==0 else 0
```

